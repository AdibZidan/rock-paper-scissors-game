<ng-container *ngIf="(view$ | async)?.isShown">
  <ng-container *ngIf="move$ | async as move">
    <section>
      <header>
        <h2>
          <span @popUp class="pick">
            You picked
          </span>

          <figure
            [class.is-winner]="move.isWinner"
            [class]="move.name.toLowerCase()">

            <img
              @popUp
              [src]="move.image"
              [alt]="move.name">
          </figure>
        </h2>

        <ng-container *ngIf="message$ | async as message">
          <ng-container *ngIf="mode$ | async as mode">
            <div @popUp class="center">
              <button (click)="updateView(mode)">
                Play Again
              </button>

              <p class="message">
                {{ message }}
              </p>
            </div>
          </ng-container>
        </ng-container>

        <h2>
          <span @fadeIn class="pick">
            The House picked
          </span>

          <ng-container *ngIf="randomHouseMove$ | async as randomHouseMove; else anonymous">
            <figure
              [class.is-winner]="randomHouseMove.isWinner"
              [class]="randomHouseMove.name.toLowerCase()">

              <img
                @popUp
                [src]="randomHouseMove.image"
                [alt]="randomHouseMove.name">
            </figure>
          </ng-container>

          <ng-template #anonymous>
            <div
              @fadeIn
              class="anonymous">
            </div>
          </ng-template>
        </h2>
      </header>
    </section>
  </ng-container>
</ng-container>
